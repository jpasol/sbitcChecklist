<h1>Breakdowns</h1>
<mat-accordion #accordion="matAccordion" [formGroup]="breakdownList" >
  <div formArrayName="breakdowns">
    <div *ngFor="let breakdown of breakdownForms.controls; let i = index" [formGroupName]="i">
      <mat-expansion-panel hideToggle="true">
        <mat-expansion-panel-header>
          <mat-panel-title class="title">{{breakdown.value.title}}</mat-panel-title>
          <mat-panel-description>{{breakdown.value.subTitle}}</mat-panel-description>
          <button mat-raised-button color="warn" (click)="removeBreakdown(i)">Delete</button>
        </mat-expansion-panel-header>
        
        <div>
          <mat-form-field class="title">
            <mat-label>Title</mat-label>
            <input matInput formControlName="title" maxlength="150">
          </mat-form-field>
        </div>

        <div>
          <mat-form-field class="time">
            <mat-label mat-label>Breakdown Time</mat-label>
            <input matInput formControlName="timeRange" [owlDateTime]="dt1" 
            [owlDateTimeTrigger]="dt1" placeholder="Date Time" selectMode='range'>
            <owl-date-time #dt1></owl-date-time>
          </mat-form-field>
        </div>

        <div>
            <textarea #desc formControlName="description" class="Description" class="description" maxlength="120"></textarea>
            <p style="text-align: right;">{{120-desc.value.length}} Characters Left</p>
        </div>
        
      </mat-expansion-panel>
    </div>
  </div>
</mat-accordion>
<section>
<button mat-raised-button color="primary" (click)="addBreakdown()" class="add">
  Add
</button>
</section>  
  